<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio – Julian Martin</title>
</head>

<body>

    <!-- NAVBAR AUTO-LOADED -->
    <div id="navbar-placeholder"></div>

    <!-- ===== HERO SECTION ===== -->
    <div class="hero">
        <h1>Game Programmer</h1>
        <p>Unity • Unreal • Multiplayer • Gameplay • Tools</p>
        <div class="hero-contact">
            <a href="mailto:julian.obadia@me.com">Email</a> • 
            <a href="https://www.linkedin.com/in/julianobadiamartin/" target="_blank">LinkedIn</a> • 
            <a href="https://github.com/martin-julian" target="_blank">GitHub</a>
        </div>
    </div>

    <h2 class="section-title">Jeux</h2>
    <div class="project-grid" id="final-grid"></div>

    <h2 class="section-title">Prototypes</h2>
    <div class="project-grid" id="proto-grid"></div>

    <!-- <h2 class="section-title">Outils</h2> -->
    <!-- <div class="project-grid" id="tools-grid"></div> -->

    <!-- ===== PROJECT GRID ===== -->
    <div class="project-grid" id="project-grid"></div>

    <!-- LOAD NAVBAR -->
    <script>
        fetch("/components/navbar.html")
            .then(res => res.text())
            .then(html => document.getElementById("navbar-placeholder").innerHTML = html);
    </script>

    <!-- LOAD GAMES DATA -->
    <script src="/data/games.js"></script>

     <script>
        function buildGrid() {

            const finalGrid = document.getElementById("final-grid");
            const protoGrid = document.getElementById("proto-grid");
            const toolsGrid = document.getElementById("tools-grid");

            window.GAMES.forEach(game => {
                const card = document.createElement("a");
                card.className = "project-card";
                card.href = game.url;

                card.innerHTML = `
                    <img src="${game.thumb}" alt="">
                    <div class="project-card-title">${game.name}</div>
                `;

                if (game.type === "final") finalGrid.appendChild(card);
                if (game.type === "proto") protoGrid.appendChild(card);
                if (game.type === "tool") toolsGrid.appendChild(card);
            });
        }

        // Event listener + fallback immédiat
        window.addEventListener("gamesReady", buildGrid);
        if (window.GAMES) buildGrid();
    </script>
</body>
</html>